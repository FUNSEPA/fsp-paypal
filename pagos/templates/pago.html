{% extends "base.html" %}

{% load staticfiles %}

{% block content %}
<nav class="navbar navbar-default">
	<div class="container">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<a class="navbar-brand" href="https://funsepa.org/cms/en/home/">
				<img style="max-width:200px; margin-top: -7px;" src="{% static 'img/logo.png' %}">
			</a>
		</div>
	</div><!-- /.container-fluid -->
</nav>
<section id="about" class="about">
	<div class="container">
		<div class="row " id="header-row">
			<div class="col-md-12 text-center">
                <br><br><br><br><br>
			</div>
		</div>
		<div class="row vertical-align nopadding" id="body-row">
            <div class="col-xs-12 col-md-6 btn-toolbar" role="toolbar" id="area-botones" data-toggle="buttons">
						<div class="row pull-right">
							<div class="col-md-6 col-xs-6 btn-group" role="group">
								<a href="#id_total" class="btn btn-default btn-sq service-item bg-celeste" onclick="pick_total(20);">
									<h4>
										<strong>KEYBOARD + MOUSE</strong>
									</h4>
									<h3>$20</h3>
								</a>
							</div>
							<div class="col-md-6 col-xs-6 btn-group" role="group">
								<a href="#id_total" class="btn btn-default btn-block service-item bg-morado" onclick="pick_total(185);">
									<h4>
										<strong>1 COMPUTER</strong>
										<br>
									</h4>
									<h3>$185</h3>
								</a>
							</div>
						</div>
						<div class="row pull-right">
							<div class="col-md-6 col-xs-6 btn-group" role="group">
								<a href="#id_total" class="btn btn-default btn-block service-item bg-algo-verde" onclick="pick_total(1000);">
									<h4>
										<strong>SERVER</strong>
									</h4>
									<h3>$1000</h3>
								</a>
							</div>
							<div class="col-md-6 col-xs-6 btn-group" role="group">
								<a href="#id_total" class="btn btn-default btn-block service-item bg-rojo" onclick="pick_total(2450);">
									<h4>
										<strong>COMPLETE TRAINING</strong>
									</h4>
									<h3>$2450</h3>
								</a>
							</div>
						</div>
						<div class="row pull-right">
							<div class="col-md-6 col-xs-6 btn-group" role="group">
								<a href="#id_total" class="btn btn-default btn-block service-item bg-azul" onclick="pick_total(6000);">
									<h4>
										<strong>COMPUTER LAB</strong>
									</h4>
									<h3>$6000</h3>
								</a>
							</div>
							<div class="col-md-6 col-xs-6 btn-group" role="group">
								<a href="#id_total" class="btn btn-default btn-block service-item bg-gris" onclick="pick_total();">
									<h4 class="text-center">
										ANOTHER
									</h4>
                                    <h3>QUANTITY</h3>
								</a>
							</div>
						</div>
					</div>

					<div class="col-xs-12 col-md-6 nopadding" id="area-form">
						<div class="secure-text pull-right"><i class="fa fa-lock" aria-hidden="true"></i> secure connection</div>
						<form action="{{action}}" method="post" class="contact-form" id="formulario">
							{% csrf_token %}
							{% if form.non_field_errors %}
							<div class="well">
								{{form.non_field_errors}}
							</div>
							{% endif %}
							{{form.card_type}}
							<div class="row row-form">
								<div class="col-md-12">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.total }}
									</div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-6">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.first_name }}
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.last_name }}
									</div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-12">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.mail }}
									</div>
								</div>
							</div>

							<div class="row row-form">
								<div class="col-md-12">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.address }}
									</div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-12">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.city }}
									</div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-6">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.state }}
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.zip_code }}
									</div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-12">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.country }}
									</div>
								</div>
							</div>

							<div class="row row-form">
								<div class="col-md-12 col-xs-12">
									<div class="form-group label-floating is-empty has-feedback text-center" id="form-group-number">
										{{ form.number }}
										<span class="help-block">
											<h2 class="card-type-icons">
												<i class="fa fa-cc-visa" aria-hidden="true"></i>
												<i class="fa fa-cc-amex" aria-hidden="true"></i>
												<i class="fa fa-cc-mastercard" aria-hidden="true"></i>
												<i class="fa fa-cc-diners-club" aria-hidden="true"></i>
												<i class="fa fa-cc-discover" aria-hidden="true"></i>
												<i class="fa fa-cc-jcb" aria-hidden="true"></i>
											</h2>
										</span>
									</div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-4 col-xs-4">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.expire_month }}
									</div>
								</div>
								<div class="col-md-4 col-xs-4">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.expire_year }}
									</div>
								</div>
								<div class="col-md-4 col-xs-4">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.cvv2 }}
									</div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-12">
									<div class="form-group label-floating is-empty" id="form-group-{{field.name}}">
										{{ form.message }}
									</div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-12 text-center">
									<div id="captcha-space"></div>
								</div>
							</div>
							<div class="row row-form">
								<div class="col-md-12 text-center">
									<button id="btn-submit" type="submit" data-text="YEAH!" class="btn btn-dark btn-lg">
										DONATE
									</button>
								</div>
							</div>
							<hr>
						</form>
						<div class="row text-center">
							<p>or</p>
							<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
								<input type="hidden" name="cmd" value="_s-xclick">
								<input type="hidden" name="hosted_button_id" value="LU9GYRVY4YKZL">
								<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
								<img alt="" border="0" src="https://www.paypalobjects.com/es_XC/i/scr/pixel.gif" width="1" height="1">
							</form>
						</div>
					</div>
		</div>

		<div class="row">
			<div class="col-md-12 text-center">
				<small>
					<span id="siteseal">
						<script async type="text/javascript" src="https://seal.godaddy.com/getSeal?sealID=jp7Q4zwuF5U8g0yXHPQnOQ9DV7phRfSBiyiWLQLFrRNgsdV7ooU8l4mdQu1R"></script>
					</span>
					<br>
					<em>Funsepa US is a 501(c)(3) not for profit organization with EID 46-0810539</em><br>
					Â© 2016 Sergio Paiz Andrade Foundation - Funsepa.
				</small>
			</div>
		</div>
	</div>
</section>
<!-- Modal -->
<div class="modal fade bs-example-modal-lg" id="david-modal" tabindex="-1" role="dialog" aria-labelledby="david-modal-label">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-body header">
				<div class="row">
					<div class="col-md-6">
						<div class="text-vertical-center">
							<h1 class="title-text">Funsepa</h1>
							<h3>Lets give children<br>like DAVID the<br>opportunity<br>for a better future</h3>
							<br>
							<button href="#about" class="btn btn-light btn-lg" data-dismiss="modal" aria-label="Close">Join Us</button>
						</div>
					</div>
				</div>
				
			</div>
		</div>
	</div>
</div>

{% if navidad is True and not form.non_field_errors %} 
<div class="modal fade bs-example-modal-lg" id="navidad-modal" tabindex="-1" role="dialog" aria-labelledby="navidad-modal-label">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-body">
				<div class="embed-responsive embed-responsive-16by9" id="video">
					<iframe width="560" height="315" src="https://www.youtube.com/embed/-fkyiOEJ7qs?autoplay=1" frameborder="0" allowfullscreen></iframe>
				</div>
			</div>
		</div>
	</div>
</div>
{% endif %}

{% endblock content %}

{% block extra_js %}
<script src='https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit'></script>
<script src="{% static "vendor/js/jquery.creditCardValidator.js" %}"></script>
<script src="{% static "js/app.js" %}"></script>
<script>
	$('#id_number').validateCreditCard(function(result){
		if(result.valid){
			$.ajax({
				url: {% url "card_consult" %} + result.card_type.name+'/',
				dataType: 'json',
				success: function (response) {
					console.log(response.id);
					$('#id_card_type').show().val(response.id);
					console.log($('form').serialize());
					$('#card-label').show().html(response.name);
				}
			})
		}
		else{
			$('#id_card_type').hide().val('')
			$('#card-label').html('').hide();
		}
	});
	{% if david is True and not form.non_field_errors %}
	$(document).ready(function () {
		$('#david-modal').modal('show');
	});
	{% endif %}
	{% if navidad is True and not form.non_field_errors %}
	$(document).ready(function () {
		$('#navidad-modal').modal('show');
		$('#navidad-modal').on('hidden.bs.modal', function (e) {
			$('#video').html('');
		});
	});
	{% endif %}
</script>
{% endblock extra_js %}
